<h3>Cargar Dataset</h3>

<input type="file" (change)="onFileSelected($event)" accept=".csv">
<button (click)="onUpload()" [disabled]="!selectedFile || isUploading">
  {{ isUploading ? 'Cargando...' : 'Procesar' }}
</button>

<div *ngIf="datasetId && datasetPreview">
  <hr>
  <p><strong>Dataset ID: </strong>{{ datasetId }}</p>
  <h4>Results:</h4>
  <ul>
    <li>Rows: {{ datasetPreview.metadata.total_rows }}</li>
    <li>Columns: {{ datasetPreview.metadata.total_columns }}</li>
    <li>
      Column Types:
      <ul>
        <li *ngFor="let type of datasetPreview.metadata.column_types | keyvalue">
          {{ type.key }}: {{ type.value }}
        </li>
      </ul>
    </li>
    <li>
      Null Counts:
      <ul>
        <li *ngFor="let count of datasetPreview.metadata.null_counts | keyvalue">
          {{ count.key }}: {{ count.value }}
        </li>
      </ul>
    </li>
  </ul>

  <table border="1" style="border-collapse: collapse; width: 100%;">
    
    <thead>
      <tr>
        <th *ngFor="let item of datasetPreview.data[0] | keyvalue: preserveOrder" style="padding: 5px; background: #eee;">
          {{ item.key }}
        </th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let row of datasetPreview.data">
        <td *ngFor="let item of row | keyvalue: preserveOrder" style="padding: 5px;">
          {{ item.value }}
        </td>
      </tr>
    </tbody>
  </table>
  <button (click)="goToTraining()">
    Entrenamiento
  </button>
</div>

